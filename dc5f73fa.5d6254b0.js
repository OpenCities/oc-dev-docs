(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{124:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return r})),a.d(t,"metadata",(function(){return s})),a.d(t,"rightToc",(function(){return c})),a.d(t,"default",(function(){return d}));var n=a(2),i=a(6),l=(a(0),a(133)),r={id:"oc_tags",title:"Tags List"},s={id:"oc_tags",isDocsHomePage:!0,title:"Tags List",description:"AlternativeLanguageDetail",source:"@site/docs/oc_tags.md",permalink:"/oc-dev-docs/docs/",editUrl:"https://github.com/OpenCities/oc-dev-docs/tree/master/docs/oc_tags.md",sidebar:"someSidebar",next:{title:"This is Document Number 3",permalink:"/oc-dev-docs/docs/doc3"}},c=[{value:"AlternativeLanguageDetail",id:"alternativelanguagedetail",children:[]},{value:"AlternativeLanguages",id:"alternativelanguages",children:[]},{value:"DeviceFilter",id:"devicefilter",children:[]},{value:"DeviceVar",id:"devicevar",children:[]},{value:"ItemData",id:"itemdata",children:[{value:"In the Template Text section of a Field Template",id:"in-the-template-text-section-of-a-field-template",children:[]},{value:"Field template rendering",id:"field-template-rendering",children:[]},{value:"Date field template rendering",id:"date-field-template-rendering",children:[]}]},{value:"OpenForms",id:"openforms",children:[]},{value:"System",id:"system",children:[]},{value:"UserData",id:"userdata",children:[]},{value:"oc:AddPageClass",id:"ocaddpageclass",children:[]}],b={rightToc:c};function d(e){var t=e.components,a=Object(i.a)(e,["components"]);return Object(l.b)("wrapper",Object(n.a)({},b,a,{components:t,mdxType:"MDXLayout"}),Object(l.b)("h2",{id:"alternativelanguagedetail"},"AlternativeLanguageDetail"),Object(l.b)("p",null,"When used inside a ",Object(l.b)("inlineCode",{parentName:"p"},"<AlternativeLanguages>")," tag, renders information about an alternative language a page is available in."),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},'<AlternativeLanguageDetail data="alias" />'),Object(l.b)("ul",{parentName:"li"},Object(l.b)("li",{parentName:"ul"},"Outputs the friendly name of the language (e.g. US English)"))),Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},'<AlternativeLanguageDetail data="link" />'),Object(l.b)("ul",{parentName:"li"},Object(l.b)("li",{parentName:"ul"},"URL of the alternate language version of the current page"))),Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},'<AlternativeLanguageDetail data="code" />'),Object(l.b)("ul",{parentName:"li"},Object(l.b)("li",{parentName:"ul"},"Language code of the alternate language (e.g. en-US)")))),Object(l.b)("h2",{id:"alternativelanguages"},"AlternativeLanguages"),Object(l.b)("p",null,"Renders the child elements of this tag once for each language variant the current page is available in.\nThis tag is intended to be used in combination with the ",Object(l.b)("inlineCode",{parentName:"p"},"<AlternativeLanguageDetail>")," tag to create a list of links to the current page in alternative languages."),Object(l.b)("pre",null,Object(l.b)("code",Object(n.a)({parentName:"pre"},{className:"language-html"}),'<AlternativeLanguages>\n    \x3c!-- <AlternativeLanguageDetail data="alias" /> variant --\x3e\n    <link rel="alternate" href="<AlternativeLanguageDetail data="link" />" hreflang="<AlternativeLanguageDetail data="code" />" />\n</AlternativeLanguages>\n')),Object(l.b)("h2",{id:"devicefilter"},"DeviceFilter"),Object(l.b)("p",null,"Includes or excludes child elements depending on the device being used to load the page.\nPlease be mindful that these tags are based on user-agent detection which cannot be relied on to be 100% accurate."),Object(l.b)("pre",null,Object(l.b)("code",Object(n.a)({parentName:"pre"},{className:"language-html"}),'<DeviceFilter include="Desktop">\n    I am visible only on Desktop devices\n</DeviceFilter>\n')),Object(l.b)("pre",null,Object(l.b)("code",Object(n.a)({parentName:"pre"},{className:"language-html"}),'<DeviceFilter exclude="Desktop">\n    I am visible on everything EXCEPT Desktop devices\n</DeviceFilter>\n')),Object(l.b)("pre",null,Object(l.b)("code",Object(n.a)({parentName:"pre"},{className:"language-html"}),'<DeviceFilter include="Tablet|Mobile">\n    I am visible on Tablet and Mobile devices only\n</DeviceFilter>\n')),Object(l.b)("h2",{id:"devicevar"},"DeviceVar"),Object(l.b)("p",null,"Outputs the device-specific value of a named device variable. Please be mindful that these tags are based on user-agent detection which cannot be relied on to be 100% accurate."),Object(l.b)("p",null,Object(l.b)("inlineCode",{parentName:"p"},'<DeviceVar var="Device Variable Name" />')),Object(l.b)("h2",{id:"itemdata"},"ItemData"),Object(l.b)("p",null,"This tag's main purpose is to output the value of a field, but the actual function and syntax can vary depending on\nthe context in which it is being used:"),Object(l.b)("h3",{id:"in-the-template-text-section-of-a-field-template"},"In the Template Text section of a Field Template"),Object(l.b)("p",null,Object(l.b)("inlineCode",{parentName:"p"},'<ItemData property="{propertyName}" [format="url|html|javascript"] [escape="true|false"]/>')),Object(l.b)("p",null,'This tag outputs the raw value of one of the properties of the field. The available property\nnames depend on the type of field you\'re creating a template for and will be available from the\n"Property" dropdown of the Field Template editing screen in OpenCities admin.'),Object(l.b)("h4",{id:"attributes"},"Attributes"),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"property: the type of property to output (e.g. value, text, name, url, target, description, etc)"),Object(l.b)("li",{parentName:"ul"},"format (optional): HTML-encodes the property for use in either url, html or javascript contexts"),Object(l.b)("li",{parentName:"ul"},"escape (optional): If set to true, adds back-slashes before the following characters ,;&?|")),Object(l.b)("h3",{id:"field-template-rendering"},"Field template rendering"),Object(l.b)("p",null,Object(l.b)("inlineCode",{parentName:"p"},'<ItemData DataDefinition="OC Title" Template="OC Page Title" />')),Object(l.b)("p",null,"This is the style of ItemData tag you will see mostly in Content Templates and in Content List templates.\nHowever, this style can be used in most html-based templates throughout the system, wherever the output is intended to be rendered as part of a page. This includes being able to nest them inside other Field Templates. This means you can render the value of one field by nesting it inside the template of another."),Object(l.b)("h4",{id:"attributes-1"},"Attributes"),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"DataDefinition: the field name"),Object(l.b)("li",{parentName:"ul"},"Template: the field template")),Object(l.b)("h3",{id:"date-field-template-rendering"},"Date field template rendering"),Object(l.b)("p",null,Object(l.b)("inlineCode",{parentName:"p"},'<ItemData DataDefinition="Activate Date" Template="OC Posted on" numEntry="10" SDays="-5" EDays="5" SDate="2020-08-10" EDate="2020-09-10" Order="Ascending" />')),Object(l.b)("h4",{id:"date-fields-have-a-few-additional-attributes"},"Date fields have a few additional attributes"),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},Object(l.b)("p",{parentName:"li"},"numEntry: Number of entries - Set how many entries to list. This is useful if the date field can have multiple or recurring dates.")),Object(l.b)("li",{parentName:"ul"},Object(l.b)("p",{parentName:"li"},"sDays: A zero-based relative value. 0 = the date/time the user looks at the site. In a scenario where the author has entered multiple dates, setting this value to 0 means you are including dates in the future only. This can be set to - or + values. Setting it to -1 means show dates from current date/time - 1.")),Object(l.b)("li",{parentName:"ul"},Object(l.b)("p",{parentName:"li"},"EDays: A zero-based relative value. Very similar to sDays, but works on the end-date entered by the author.")),Object(l.b)("li",{parentName:"ul"},Object(l.b)("p",{parentName:"li"},"SDate: (yyyy-MM-dd) - The same as sDays above, but instead of it being a relative value, the comparison is done using a specific date.")),Object(l.b)("li",{parentName:"ul"},Object(l.b)("p",{parentName:"li"},"EDate: (yyyy-MM-dd) - Same as eDays above, but instead of it being a relative value, the comparison is done using a specific date.")),Object(l.b)("li",{parentName:"ul"},Object(l.b)("p",{parentName:"li"},"Order: In a scenario where the author enters multiple dates, you can use this parameter to render the list of dates in ascending or descending order."))),Object(l.b)("h2",{id:"openforms"},"OpenForms"),Object(l.b)("p",null,"Renders standard OpenForms embedding markup."),Object(l.b)("p",null,Object(l.b)("inlineCode",{parentName:"p"},'<OpenForms name="My Form" linktoform="https://au.openforms.com/Form/d73b5837-b0e3-4591-be9f-ef7ce487a664" />')),Object(l.b)("h2",{id:"system"},"System"),Object(l.b)("p",null,"Renders system information about the current page. Usually for diagnostic purposes."),Object(l.b)("p",null,Object(l.b)("inlineCode",{parentName:"p"},'<System type="page-language" />')),Object(l.b)("h4",{id:"types"},"Types"),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"itemId: The id of the current page"),Object(l.b)("li",{parentName:"ul"},"itemVersionId: The id of the current version of the current page"),Object(l.b)("li",{parentName:"ul"},"current-language: Actual language of current Item being displayed. This can vary based on the language variants available in current item version in model."),Object(l.b)("li",{parentName:"ul"},"page-language: Language code of current page. This is the root language of the HTML document and will not change between item template processings.")),Object(l.b)("h2",{id:"userdata"},"UserData"),Object(l.b)("p",null,"Used to output data about the logged in website visitor"),Object(l.b)("p",null,Object(l.b)("inlineCode",{parentName:"p"},'<UserData Property="First Name" />')),Object(l.b)("h4",{id:"properties"},"Properties"),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"Create Date: Date the user was created in OpenCities"),Object(l.b)("li",{parentName:"ul"},"Email: User's email address"),Object(l.b)("li",{parentName:"ul"},"First Name: User's first name"),Object(l.b)("li",{parentName:"ul"},"Last Name: User's last name"),Object(l.b)("li",{parentName:"ul"},"User Name: User's username"),Object(l.b)("li",{parentName:"ul"},"Expire Date: Expiry date of user account"),Object(l.b)("li",{parentName:"ul"},"[OC Department]",": Any user detail found on the User Details admin screen")),Object(l.b)("h2",{id:"ocaddpageclass"},"oc:AddPageClass"),Object(l.b)("div",{className:"admonition admonition-warning alert alert--danger"},Object(l.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(l.b)("h5",{parentName:"div"},Object(l.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(l.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"}),Object(l.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"})))),"warning")),Object(l.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(l.b)("p",{parentName:"div"},"There is a change coming in this tag which will be in the September 2020 release. For the time being, please only use it to create class names that are lowercase-dash-separated."))),Object(l.b)("p",null,"Adds a css class to the list of classes that are rendered in the ",Object(l.b)("inlineCode",{parentName:"p"},"<body>")," tag of the currently loading page and anywhere else in the document that the ",Object(l.b)("inlineCode",{parentName:"p"},"<oc:PageClasses>")," tag is used."),Object(l.b)("p",null,"The value to be converted to a class can be specified in an attribute:"),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},'<oc:AddPageClass value="my-class-name" />')),Object(l.b)("li",{parentName:"ul"},"Output: ",Object(l.b)("inlineCode",{parentName:"li"},'<body class="... my-class-name ...">'))),Object(l.b)("p",null,"Or it can be specified as a child element:"),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"<oc:AddPageClass>my-class-name</oc:AddPageClass>")),Object(l.b)("li",{parentName:"ul"},"Output: ",Object(l.b)("inlineCode",{parentName:"li"},'<body class="... my-class-name ...">'))),Object(l.b)("p",null,"When using a child element, you can make use of other OpenCities mark-up to produce the class:"),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},'<oc:AddPageClass><ItemData DataDefinition="OC Homepage Display" Template="OC CSS Class" /></oc:AddPageClass>')),Object(l.b)("li",{parentName:"ul"},"Output: ",Object(l.b)("inlineCode",{parentName:"li"},'<body class="... homepage-pin ...">'))),Object(l.b)("p",null,"AS OF SEPTEMBER 2020:\nThe value of the tag is sanitised to produce a valid and predictable class name:"),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},'<oc:AddPageClass>     ===123!!!HELLO World!! %$#"    </oc:AddPageClass>')),Object(l.b)("li",{parentName:"ul"},"Output: ",Object(l.b)("inlineCode",{parentName:"li"},'<body class="... n123---hello-world ...">'))))}d.isMDXComponent=!0}}]);